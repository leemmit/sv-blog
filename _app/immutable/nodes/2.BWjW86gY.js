import{f as U,a as V}from"../chunks/Di8JddTs.js";import{i as Z}from"../chunks/DTdzckGU.js";import{o as j}from"../chunks/BVQ0Mfie.js";import{e as ee,h as M,i as ae,g as A,_ as re,j as te,H as ne,k as Y,l as B,o as R,A as H,$ as fe,a0 as se,a1 as le,q as ie,z,y as X,C as ve,m as G,a2 as P,a3 as J,a4 as ue,a5 as oe,v as K,x as de,a6 as ce,a7 as pe,a8 as S,a9 as _e,aa as me,ab as he,ac as ge,w as xe,p as be,a as Ee,d as Te,s as L,c as N,b as C,t as we}from"../chunks/Chd5NF2u.js";import{s as O}from"../chunks/Dl1304Nx.js";import{s as De}from"../chunks/DMPQfmUc.js";import{a as Ae}from"../chunks/CRUjCNJ6.js";function ke(e,t){return t}function Ie(e,t,n){for(var d=[],c=t.length,i=0;i<c;i++)me(t[i].e,d,!0);he(d,()=>{var f=d.length===0&&n!==null;if(f){var r=n,v=r.parentNode;ge(v),v.append(r),e.items.clear(),_(e,t[0].prev,t[c-1].next)}for(var a=0;a<c;a++){var l=t[a];f||(e.items.delete(l.k),_(e,l.prev,l.next)),xe(l.e,!f)}e.first===t[0]&&(e.first=t[0].prev)})}function ye(e,t,n,d,c,i=null){var f=e,r=new Map,v=null;M&&ae();var a=null,l=re(()=>{var p=n();return ue(p)?p:p==null?[]:J(p)}),u,o=!0;function m(){Me(h,u,f,t,d),a!==null&&(u.length===0?(a.fragment?(f.before(a.fragment),a.fragment=null):K(a.effect),s.first=a.effect):de(a.effect,()=>{a=null}))}var s=ee(()=>{u=A(l);var p=u.length;let E=!1;if(M){var g=te(f)===ne;g!==(p===0)&&(f=Y(),B(f),R(!1),E=!0)}for(var I=new Set,T=ie,D=null,k=ve(),b=0;b<p;b+=1){M&&H.nodeType===fe&&H.data===se&&(f=H,E=!0,R(!1));var y=u[b],w=d(y,b),x=o?null:r.get(w);x?(le(x.v,y),x.i=b,k&&T.skipped_effects.delete(x.e)):(x=Ne(o?f:null,D,y,w,b,c,t,n),o&&(x.o=!0,D===null?v=x:D.next=x,D=x),r.set(w,x)),I.add(w)}if(p===0&&i&&!a)if(o)a={fragment:null,effect:z(()=>i(f))};else{var q=document.createDocumentFragment(),F=X();q.append(F),a={fragment:q,effect:z(()=>i(F))}}if(M&&p>0&&B(Y()),!o)if(k){for(const[Q,W]of r)I.has(Q)||T.skipped_effects.add(W.e);T.oncommit(m),T.ondiscard(()=>{})}else m();E&&R(!0),A(l)}),h={effect:s,items:r,first:v};o=!1,M&&(f=H)}function Me(e,t,n,d,c){var i=t.length,f=e.items,r=e.first,v,a=null,l=[],u=[],o,m,s,h;for(h=0;h<i;h+=1){if(o=t[h],m=c(o,h),s=f.get(m),e.first??=s,!s.o){s.o=!0;var p=a?a.next:r;_(e,a,s),_(e,s,p),$(s,p,n),a=s,l=[],u=[],r=a.next;continue}if((s.e.f&S)!==0&&K(s.e),s!==r){if(v!==void 0&&v.has(s)){if(l.length<u.length){var E=u[0],g;a=E.prev;var I=l[0],T=l[l.length-1];for(g=0;g<l.length;g+=1)$(l[g],E,n);for(g=0;g<u.length;g+=1)v.delete(u[g]);_(e,I.prev,T.next),_(e,a,I),_(e,T,E),r=E,a=T,h-=1,l=[],u=[]}else v.delete(s),$(s,r,n),_(e,s.prev,s.next),_(e,s,a===null?e.first:a.next),_(e,a,s),a=s;continue}for(l=[],u=[];r!==null&&r.k!==m;)(r.e.f&S)===0&&(v??=new Set).add(r),u.push(r),r=r.next;if(r===null)continue;s=r}l.push(s),a=s,r=s.next}let D=f.size>i;if(r!==null||v!==void 0){for(var k=v===void 0?[]:J(v);r!==null;)(r.e.f&S)===0&&k.push(r),r=r.next;var b=k.length;if(D=f.size-b>i,b>0){var y=null;Ie(e,k,y)}}if(D)for(const w of f.values())w.o||(_(e,a,w),a=w);e.effect.last=a&&a.e}function Ne(e,t,n,d,c,i,f,r){var v=(f&ce)!==0,a=(f&pe)===0,l=v?a?G(n,!1,!1):P(n):n,u=(f&oe)===0?c:P(c),o={i:u,v:l,k:d,a:null,e:null,o:!1,prev:t,next:null};try{if(e===null){var m=document.createDocumentFragment();m.append(e=X())}return o.e=z(()=>i(e,l,u,r)),t!==null&&(t.next=o),o}finally{}}function $(e,t,n){for(var d=e.next?e.next.e.nodes_start:n,c=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==null&&i!==d;){var f=_e(i);c.before(i),i=f}}function _(e,t,n){t===null?(e.first=n,e.effect.first=n&&n.e):(t.e.next&&(t.e.next.prev=null),t.next=n,t.e.next=n&&n.e),n!==null&&(n.e.prev&&(n.e.prev.next=null),n.prev=t,n.e.prev=t&&t.e)}var Ce=U('<a class="block border p-3 rounded mb-3 hover:bg-gray-50"><div class="font-semibold"> </div> <div class="text-sm text-gray-500"> </div> <div class="text-sm text-gray-500"> </div></a>'),He=U('<div class="max-w-xl mx-auto p-4"><h1 class="text-2xl font-bold mb-4">Мои посты</h1> <a href="/create" class="block bg-blue-600 text-white px-4 py-2 rounded mb-4 text-center">Новый пост</a> <!></div>');function Fe(e,t){be(t,!1);let n=G([]);j(()=>{Te(n,Ae().sort((i,f)=>new Date(f.updated).getTime()-new Date(i.updated).getTime()))}),Z();var d=He(),c=L(N(d),4);ye(c,1,()=>A(n),ke,(i,f)=>{var r=Ce(),v=N(r),a=N(v,!0);C(v);var l=L(v,2),u=N(l);C(l);var o=L(l,2),m=N(o);C(o),C(r),we((s,h)=>{De(r,"href",`/post/${A(f).id}`),O(a,A(f).title),O(u,`Создан: ${s??""}`),O(m,`Изменён: ${h??""}`)},[()=>new Date(A(f).created).toLocaleString(),()=>new Date(A(f).updated).toLocaleString()]),V(i,r)}),C(d),V(e,d),Ee()}export{Fe as component};
